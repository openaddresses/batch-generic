<h1 align=center>Batch-Generic</h1>

<p align=center>JSON Schema based ORM for Slonik</p>

## Installation

```sh
npm add @openaddresses/batch-generic
````

## Example Usage

```js
const { Generic } = require('@openaddresses/batch-generic');

class MyClass extends Generic {
    static _table = '<postgres table name>';
    static _res = require('path to JSON Schema for Result')
    static _patch = require('path to JSON Schema for Patch Body')
}
```

## Autogenerated

### Generic.From

Returns a class given a database ID (assumed to be `<_table>.id`)
```
from(pool, id) -> MyClass
```

### Generic.Patch

Apply properties defined & allowed in the `_patch` JSON Schema to the object
Although this uses the JSON schema for selecting which objects should be patched,
it does not perform JSON SChema validation. A library such as `@openaddresses/batch-schema`
is recommended for schema validation.

```
patch(object)
````

### Generic.Serialize

Return a JSON representation of the object

### Generic.Deserialize

Return a class representation of the object given
a slonik row or rows

### Generic.delete

```
delete(object) -> true
````
